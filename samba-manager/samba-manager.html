<!doctype html>
<html>
<!--
    Cockpit Samba Manager - Cockpit plugin for managing Samba.
    Copyright (C) 2021 Josh Boudreau <jboudreau@45drives.com>
    
    This file is part of Cockpit Samba Manager.
    Cockpit Samba Manager is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.
    Cockpit Samba Manager is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.
    You should have received a copy of the GNU General Public License
    along with Cockpit Samba Manager.  If not, see <https://www.gnu.org/licenses/>.
-->
<html lang="en">
<head>
	<title>Samba Manager</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<link href="../base1/cockpit.css" type="text/css" rel="stylesheet">
	<link href="samba-manager.css" type="text/css" rel="stylesheet">
	<script src="../base1/cockpit.js"></script>
	<script src="../manifests.js"></script>
	<script src="../*/po.js"></script>
	<script defer src="samba-manager.js"></script>
</head>
<body>
	<div class="content-wrapper">
		
		<div class="panel panel-default">
			<div class="panel-heading row-45d">
				<h3 class="panel-title">User Management</h3>
				<div>
					<div class="horizontal-spacer"></div>
				</div>
				<select class="ct-select" name="users" id="user-selection"></select>
				<div>
					<div class="horizontal-spacer"></div>
				</div>
				<div class="info-45d" id="user-select-info">
					<span id="user-select-info-icon"></span>
					<span id="user-select-info-text"></span>
				</div>
			</div>
			<div class="panel-body">
				<div class="row-45d flex-45d-stretch">
					<div class="col-45d">
						<button class="pf-c-button pf-m-primary" id="add-group-btn">Add to <span class="monospace-45d">smbadmin</span> Group</button>
						<button class="pf-c-button pf-m-secondary" id="show-smbpasswd-dialog-btn">Set Samba Password</button>
					</div>
					<div class="col-45d">
						<button class="pf-c-button pf-m-danger" id="rm-group-btn">Remove from <span class="monospace-45d">smbadmin</span> Group</button>
						<button class="pf-c-button pf-m-danger" id="rm-smbpasswd-btn">Remove Samba Password</button>
					</div>
					<div class="col-45d flex-45d-space-between">
						<div class="info-45d" id="add-group-info">
							<span id="add-group-info-icon"></span>
							<span id="add-group-info-text"></span>
						</div>
						<div class="info-45d" id="smbpasswd-info">
							<span id="smbpasswd-info-icon"></span>
							<span id="smbpasswd-info-text"></span>
						</div>
					</div>
				</div>
			</div>
		</div>
		
		<div class="panel panel-default">
			<div class="panel-heading">
				<h3 class="panel-title">Share Management</h3>
			</div>
			<div class="panel-body">
				<div class="table-45d">
					<div class="row-45d">
						<button class="pf-c-button pf-m-secondary" id="manage-shares-btn">Manage Shares</button>
						<button class="pf-c-button pf-m-secondary" id="global-settings-btn">Global Settings</button>
					</div>
				</div>
			</div>
		</div>
		
	</div>
	
	<div id="rm-group-modal" class="modal" role="dialog">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<span class="close" id="close-rm-group">&times;</span>
						<h4 class="modal-title">Remove <span id="rm-smbpasswd-modal-user" class="username-45d"></span> from the <span class="monospace-45d">smbadmin</span> Group?</h4>
					</div>
					<div class="modal-body">
						This will remove <span id="rm-group-modal-user" class="username-45d"></span> from the <span class="monospace-45d">smbadmin</span> group, revoking administrative access for Samba.
					</div>
					<div class="modal-footer">
						<button type="button" class="pf-c-button pf-m-secondary" id="cancel-rm-group">Cancel</button>
						<button type="button" class="pf-c-button pf-m-danger" id="continue-rm-group">Continue</button>
					</div>
				</div>
			</div>
		</div>
	</div>
	
	<div id="smbpasswd-modal" class="modal" role="dialog">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<span class="close" id="close-smbpasswd">&times;</span>
						<h4 class="modal-title">Set Samba Password for <span id="rm-smbpasswd-modal-user" class="username-45d"></span></h4>
					</div>
					<div class="modal-body">
						<label class="control-label" for="smbpasswd-pw1" translate="yes">Password</label>
						<input class="form-control check-passwords" type="password" id="smbpasswd-pw1" value=""/>
						
						<label class="control-label" for="smbpasswd-pw2" translate="yes">Confirm</label>
						<input class="form-control check-passwords" type="password" id="smbpasswd-pw2" value=""/>
						
						<div id="smbpasswd-modal-info">
							<span id="smbpasswd-modal-info-icon"></span>
							<span id="smbpasswd-modal-info-text"></span>
						</div>
					</div>
					<div class="modal-footer">
						<button type="button" class="pf-c-button pf-m-secondary" id="cancel-smbpasswd">Cancel</button>
						<button type="button" class="pf-c-button pf-m-primary" id="set-smbpasswd">Apply</button>
					</div>
				</div>
			</div>
		</div>
	</div>
	
	<div id="rm-smbpasswd-modal" class="modal" role="dialog">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header">
						<span class="close" id="close-rm-smbpasswd">&times;</span>
						<h4 class="modal-title">Remove Samba Password for <span id="rm-smbpasswd-modal-user" class="username-45d"></span>?</h4>
					</div>
					<div class="modal-body">
						This will remove the Samba password for <span id="rm-smbpasswd-modal-user" class="username-45d"></span>, which may cause them to be unable to use Samba shares.
					</div>
					<div class="modal-footer">
						<button type="button" class="pf-c-button pf-m-secondary" id="cancel-rm-smbpasswd">Cancel</button>
						<button type="button" class="pf-c-button pf-m-danger" id="continue-rm-smbpasswd">Continue</button>
					</div>
				</div>
			</div>
		</div>
	</div>
</body>
</html>
